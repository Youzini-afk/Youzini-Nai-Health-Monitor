APP_NAME=Nai Health Monitor
HOST=0.0.0.0
PORT=5010

# 就绪判定策略：all（全部目标正常才就绪）/ any（任意目标正常就就绪）
READY_STRATEGY=all

# 探活配置
PROBE_INTERVAL_SECONDS=30
PROBE_TIMEOUT_SECONDS=5
PROBE_CONCURRENCY=20

# 历史数据（SQLite）
# 说明：默认使用 `HISTORY_DB_PATH`；若设置了 `DB_PATH`，则统一使用 `DB_PATH`（历史/Key 都存这里）
HISTORY_RETENTION_MINUTES=1440
HISTORY_MAX_POINTS_PER_TARGET=3000
# 可用率统计窗口（分钟，逗号分隔），例如：60,1440
AVAILABILITY_WINDOWS_MINUTES=60,1440
# SQLite 数据库路径（历史/Key）
HISTORY_DB_PATH=./data/history.db
# 可选：统一数据库路径（优先级更高）
DB_PATH=

# 是否在 `/statusz` 与页面上显示目标 URL（建议对外保持 false）
EXPOSE_URLS=false

# 可选：使用 Bearer Token 保护 `/statusz`/`/historyz`（API 访问）
STATUS_TOKEN=

# 登录（用于 Web 界面 + JSON 接口）
AUTH_ENABLED=true
AUTH_USERNAME=admin
AUTH_PASSWORD=change-me
AUTH_SECRET_KEY=change-me-too
# 仅在 HTTPS 下设为 true（纯 HTTP 请保持 false，否则浏览器不会回传 Cookie）
AUTH_COOKIE_SECURE=false
AUTH_SESSION_MINUTES=1440

# Key 池（上传/管理/一键拉取健康 Key）
KEYPOOL_ENABLED=false
# 用于加密存储 Key：Fernet key（32-byte urlsafe base64），可用 Python 生成：
# python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
KEYPOOL_ENCRYPTION_KEY=
# 要求 Opus tier=3 才算健康（可选）
KEYPOOL_REQUIRE_OPUS_TIER=false
KEYPOOL_HEALTH_CHECK_ENABLED=true
KEYPOOL_HEALTH_CHECK_INTERVAL_SECONDS=300
KEYPOOL_HEALTH_CHECK_FAIL_THRESHOLD=3

# 目标列表（逗号分隔）：
# 格式：名称|URL[|expect=200][|contains=xxx][|regex=...]
# - expect：期望的 HTTP 状态码（默认 200）
# - contains：响应内容需包含指定字符串（可选）
# - regex：响应内容需匹配正则（可选）
# （可选/已废弃）URL 探活目标：本版本以 Key 健康监控为主，通常不用配置
TARGETS=
